{% extends "base.html" %} {% block title %}Clinicians{% endblock %} {% block
content %}
<div class="container mt-4">
	<div class="card shadow-sm border-0 rounded-4">
		<div
			class="card-header bg-white d-flex justify-content-between align-items-center py-3"
		>
			<h3 class="fw-bold mb-0">
				<i class="bi bi-people-fill text-primary me-2"></i> Clinicians
			</h3>
			<a
				href="{{ url_for('admin.create_clinician_get') }}"
				class="btn btn-primary btn-sm"
			>
				<i class="bi bi-person-plus-fill me-1"></i> Add Clinician
			</a>
		</div>

		{% if clinicians %}
		<div class="table-responsive">
			<table class="table table-hover align-middle mb-0">
				<thead class="table-light small">
					<tr>
						<th>Clinician</th>
						<th>Specialisation</th>
						<th>Activation Status</th>
						<th>Created</th>
						<th>Info</th>
						<th>Action</th>
					</tr>
				</thead>

				<tbody>
					{% for c in clinicians %}
					<tr>
						<td>
							<a
								href="{{ url_for('admin.view_clinician', clinician_id=c['clinician_id']) }}"
								class="text-decoration-none text-dark d-flex align-items-center"
							>
								<img
									src="https://ui-avatars.com/api/?name={{ c['first_name'] }}+{{ c['last_name'] }}&background=0D6EFD&color=fff&size=40"
									class="rounded-circle me-2 shadow-sm"
								/>
								<div>
									<div class="fw-semibold">
										{{ c["first_name"] }} {{ c["last_name"] }}
									</div>
									<small class="text-muted">@{{ c["username"] }}</small>
								</div>
							</a>
						</td>
						<td class="text-muted small">
							<i class="bi bi-briefcase-fill me-1 text-secondary"></i>
							{{ c["specialization"]|capitalize or "N/A" }}
						</td>
						<td>
							{% if c["is_active"] %}
							<span class="badge bg-success">
								<i class="bi bi-check-circle me-1"></i> Active
							</span>
							{% else %}
							<span class="badge bg-secondary">
								<i class="bi bi-dash-circle me-1"></i> Inactive
							</span>
							{% endif %}
						</td>
						<td class="small text-muted">
							<i class="bi bi-calendar-event me-1"></i>
							{{ c["user_created_at"] | humanize_date }}
						</td>
						<td>
							{% if c["is_archived"] %}
							<span class="badge bg-secondary">
								<i class="bi bi-dash-circle me-1"></i> Archived
							</span>
							{% elif c["is_active"] and not c["is_archived"]%}
							<span class="badge bg-success">
								<i class="bi bi-check-circle me-1"></i> Active
							</span>
							{% else %}
							<span class="badge bg-secondary">
								<i class="bi bi-dash-circle me-1"></i> Inactive
							</span>
							{% endif %}
						</td>
						<td class="text-end">
							<a
								href="{{ url_for('admin.view_clinician', clinician_id=c['clinician_id']) }}"
								class="btn btn-sm btn-outline-primary"
							>
								<i class="bi bi-eye-fill me-1"></i> View
							</a>
						</td>
					</tr>
					{% endfor %}
				</tbody>
			</table>
		</div>
		{% else %}
		<div class="text-center p-5">
			<i class="bi bi-person-x fs-1 text-secondary"></i>
			<h5 class="mt-3 text-muted">No clinicians found</h5>
		</div>
		{% endif %}
	</div>
</div>
{% endblock %}
