{% extends "base.html" %} {% block title %}Users{% endblock %} {% block content
%}
<div class="container mt-4">
	<div class="card shadow-sm border-0 rounded-4">
		<div
			class="card-header bg-white d-flex justify-content-between align-items-center py-3"
		>
			<h3 class="fw-bold mb-0">
				<i class="bi bi-people-fill text-primary me-2"></i> Users
			</h3>
			<a
				href="{{ url_for('admin.create_user_get') }}"
				class="btn btn-primary btn-sm"
			>
				<i class="bi bi-person-plus-fill me-1"></i> Add User
			</a>
		</div>
		{% if users %}
		<div class="table-responsive">
			<table class="table table-hover align-middle mb-0">
				<thead class="table-light small">
					<tr>
						<th>User</th>
						<th>Role</th>
						<th>Activation Status</th>
						<th>Created</th>
						<th>Info</th>
						<th>Action</th>
					</tr>
				</thead>
				<tbody>
					{% for u in users %}
					<tr>
						<td>
							<a
								href="{{ url_for('admin.view_user', user_id=u['user_id']) }}"
								class="text-decoration-none text-dark d-flex align-items-center"
							>
								<div>
									<div class="fw-semibold">{{ u["full_name"] }}</div>
									<small class="text-muted">@{{ u["username"] }}</small>
								</div>
							</a>
						</td>
						<td class="text-muted small">
							<i class="bi bi-briefcase-fill me-1 text-secondary"></i>
							{{ u["role_name"]|capitalize or "N/A" }}
						</td>
						<td>
							{% if u["is_active"] %}
							<span class="badge bg-success">
								<i class="bi bi-check-circle me-1"></i> Activated
							</span>
							{% else %}
							<span class="badge bg-secondary">
								<i class="bi bi-dash-circle me-1"></i> Inactive
							</span>
							{% endif %}
						</td>
						<td class="small text-muted">
							<i class="bi bi-calendar-event me-1"></i>
							{{ u["user_created_at"] | humanize_date }}
						</td>
						<td>
							{% if u["is_archived"] %}
							<span class="badge bg-secondary">
								<i class="bi bi-dash-circle me-1"></i> Archived
							</span>
							{% elif u["is_active"] and not u["is_archived"]%}
							<span class="badge bg-success">
								<i class="bi bi-check-circle me-1"></i> Active
							</span>
							{% else %}
							<span class="badge bg-secondary">
								<i class="bi bi-dash-circle me-1"></i> Inactive
							</span>
							{% endif %}
						</td>
						<td class="text-end">
							<a
								href="{{ url_for('admin.view_user', user_id=u['user_id']) }}"
								class="btn btn-sm btn-outline-primary"
							>
								<i class="bi bi-eye-fill me-1"></i> View
							</a>
						</td>
					</tr>
					{% endfor %}
				</tbody>
			</table>
		</div>
		{% else %}
		<div class="text-center p-5">
			<i class="bi bi-person-x fs-1 text-secondary"></i>
			<h5 class="mt-3 text-muted">No users found</h5>
		</div>
		{% endif %}
	</div>
</div>
{% endblock %}
