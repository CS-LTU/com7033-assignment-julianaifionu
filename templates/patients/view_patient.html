{% extends "base.html" %} {% block title %}Patient Details{% endblock %} {%
block content %}
<div class="container mt-4 mb-5" style="max-width: 900px">
	<div class="d-flex justify-content-between align-items-center mb-4">
		<h2 class="fw-bold">
			<i class="bi bi-person-lines-fill me-2"></i>
			{{ patient.first_name }} {{ patient.last_name }}
		</h2>

		{% if role_name == "clinician"%}
		<div>
			<a
				href="{{ url_for('edit_patient_get', patient_id=patient.id) }}"
				class="btn btn-primary me-2"
			>
				<i class="bi bi-pencil-square me-1"></i> Edit
			</a>
		</div>
		{% endif %}
	</div>

	<div class="view_patient card shadow-sm border-0 rounded-4 p-4">
		<!-- DEMOGRAPHICS -->
		<h5 class="fw-semibold mb-3">
			<i class="bi bi-person-fill me-2 text-primary"></i> Demographic
		</h5>

		<div class="row mb-4">
			<div class="col-md-6 mb-2">
				<strong>Name:</strong> {{ patient.first_name }} {{ patient.last_name }}
			</div>
			<div class="col-md-6 mb-2">
				<strong>Gender:</strong> {{ patient.gender|capitalize }}
			</div>
			<div class="col-md-6 mb-2">
				<strong>Date of Birth:</strong> {{ patient.date_of_birth }}
			</div>
			<div class="col-md-6 mb-2">
				<strong>Created:</strong> {{ patient.created_at }}
			</div>
		</div>

		<hr />

		<!-- LIFESTYLE -->
		<h5 class="fw-semibold mb-3">
			<i class="bi bi-heart-fill text-success me-2"></i> Lifestyle
		</h5>

		{% if lifestyle %}
		<div class="row mb-4">
			<div class="col-md-6 mb-2">
				<strong>Ever Married:</strong> {{ lifestyle.ever_married or "N/A" }}
			</div>
			<div class="col-md-6 mb-2">
				<strong>Work Type:</strong> {{ lifestyle.work_type or "N/A" }}
			</div>
			<div class="col-md-6 mb-2">
				<strong>Resident Type:</strong> {{ lifestyle.resident_type or "N/A" }}
			</div>
			<div class="col-md-6 mb-2">
				<strong>Smoking Status:</strong> {{ lifestyle.smoking_status or "N/A" }}
			</div>
		</div>
		{% else %}
		<p class="text-muted">No lifestyle data available.</p>
		{% endif %}

		<hr />

		<!-- MEDICAL -->
		<h5 class="fw-semibold mb-3">
			<i class="bi bi-clipboard-pulse-fill text-danger me-2"></i> Medical
			History
		</h5>

		{% if medical %}
		<div class="row mb-4">
			<div class="col-md-4 mb-2">
				<strong>Hypertension:</strong> {{ "Yes" if medical.hypertension==1 else
				"No" }}
			</div>
			<div class="col-md-4 mb-2">
				<strong>Heart Disease:</strong> {{ "Yes" if medical.heart_disease==1
				else "No" }}
			</div>
			<div class="col-md-4 mb-2">
				<strong>Stroke:</strong> {{ "Yes" if medical.stroke==1 else "No" }}
			</div>
			<div class="col-md-6 mb-2"><strong>BMI:</strong> {{ medical.bmi }}</div>
			<div class="col-md-6 mb-2">
				<strong>Avg Glucose Level:</strong> {{ medical.avg_glucose_level }}
			</div>
		</div>
		{% else %}
		<p class="text-muted">No medical history recorded.</p>
		{% endif %}
	</div>

	<div class="mt-4">
		<a href="{{ url_for('dashboard') }}" class="btn btn-outline-secondary">
			<i class="bi bi-arrow-left me-1"></i> Back to Dashboard
		</a>
	</div>
</div>

{% endblock %}
