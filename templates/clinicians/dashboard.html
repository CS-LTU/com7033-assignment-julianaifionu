{% extends "base.html" %} {% block title %}Clinician Dashboard{% endblock %} {%
block content %}

<div class="container py-4">
	<div class="d-flex justify-content-between align-items-center mb-4">
		<h2 class="fw-bold">Your Patients</h2>
		<a href="{{ url_for('create_patient_get') }}" class="btn btn-primary">
			+ Add New Patient
		</a>
	</div>

	{% if patients %}
	<div class="card shadow-sm border-0">
		<div class="card-body p-0">
			<table class="table table-hover mb-0">
				<thead class="table-light">
					<tr>
						<th>ID</th>
						<th>Patient Name</th>
						<th>DOB</th>
						<th>Gender</th>
						<th>Added</th>
						<th></th>
					</tr>
				</thead>

				<tbody>
					{% for p in patients %}
					<tr class="align-middle">
						<td class="fw-bold">{{ p["id"] }}</td>
						<td>{{ p["first_name"] }} {{ p["last_name"] }}</td>
						<td>{{ p["date_of_birth"] }}</td>
						<td>
							{% if p["gender"] == "female" %}
							<span class="badge rounded-pill bg-pink text-white">Female</span>
							{% elif p["gender"] == "male" %}
							<span class="badge rounded-pill bg-primary">Male</span>
							{% else %}
							<span class="badge rounded-pill bg-secondary">Other</span>
							{% endif %}
						</td>
						<td>{{ p["created_at"] }}</td>

						<td>
							<a
								href="{{ url_for('view_patient', patient_id=p['patient_id']) }}"
								class="btn btn-sm btn-outline-primary"
							>
								View â†’
							</a>
						</td>
					</tr>
					{% endfor %}
				</tbody>
			</table>
		</div>
	</div>
	{% else %}

	<div class="text-center mt-5">
		<h5>No patients found.</h5>
		<p class="text-muted">Click below to add your first patient.</p>
		<a href="{{ url_for('create_patient_get') }}" class="btn btn-primary mt-2"
			>Add Patient</a
		>
	</div>

	{% endif %}
</div>

{% endblock %}
